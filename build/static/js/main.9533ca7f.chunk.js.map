{"version":3,"sources":["reducers/notificationReducer.js","utils/storage.js","services/blogs.js","reducers/blogReducer.js","services/comments.js","reducers/commentReducer.js","components/Blog.js","components/Notification.js","services/login.js","reducers/userReducer.js","hooks/useField.js","components/LoginForm.js","components/Togglable.js","components/Users.js","components/User.js","components/BlogForm.js","components/Blogs.js","components/Comment.js","App.js","store.js","index.js"],"names":["timeoutId","storageKey","userService","saveUser","user","localStorage","setItem","JSON","stringify","loadUser","parse","getItem","logoutUser","removeItem","baseUrl","config","headers","Authorization","token","blogService","create","newObject","a","axios","post","response","data","remove","id","delete","update","object","title","author","url","likes","put","getOne","get","getAll","Object","blog","type","initBlogs","dispatch","blogs","blogReducer","state","action","console","log","newBlogs","map","find","changedBlog","filter","notify","message","time","clearTimeout","setTimeout","notificationReducer","commentService","setToken","newToken","content","newComment","initComments","comment","comments","commentReducer","Blog","useDispatch","useSelector","useParams","useEffect","interval","setInterval","clearInterval","sort","b","href","className","Button","variant","size","onClick","event","preventDefault","username","blogToChange","updateBlog","error","Notification","notification","Alert","login","password","credentials","setUser","userReducer","useField","useState","value","setValue","onChange","target","LoginForm","handleLogin","loginService","name","onSubmit","Togglable","React","forwardRef","props","ref","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","buttonLabel","children","displayName","Users","users","uniqueUsers","v","i","findIndex","t","Table","to","item","length","User","userBlogs","BlogForm","createBlog","Form","Group","Label","Control","Blogs","blogFormRef","useRef","blogsSort","blogObject","current","newBlog","Comment","handleSubmit","App","blogUser","removeUser","Navbar","collapseOnSelect","expand","bg","Toggle","Collapse","Nav","Link","as","path","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","getState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9533ca7f.chunk.js","sourcesContent":["const notificationReducer = (state = null, action) => {\r\n  console.log('STATE NOW:', state)\r\n  console.log('ACTION:', action)\r\n  switch (action.type) {\r\n  case 'NEW_MESSAGE':\r\n    return action.data\r\n  case 'REMOVE_MESSAGE':\r\n    return null\r\n  default:\r\n    return state\r\n  }\r\n}\r\nlet timeoutId\r\n\r\nexport const notify = (message, time) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: 'NEW_MESSAGE',\r\n      data: {\r\n        message\r\n      }\r\n    })\r\n\r\n    if (timeoutId) {\r\n      clearTimeout(timeoutId)\r\n    }\r\n\r\n    timeoutId = setTimeout(() => {\r\n      dispatch({\r\n        type: 'REMOVE_MESSAGE'\r\n      })\r\n    }, time * 1000)\r\n  }\r\n}\r\n\r\nexport const stopNotify = (id) => (\r\n  { type: 'REMOVE_MESSAGE' }\r\n)\r\n\r\nexport default notificationReducer\r\n","const storageKey = 'loggedBlogappUser'\r\n\r\nconst userService = {\r\n  saveUser : ( user ) => {\r\n    localStorage.setItem(storageKey, JSON.stringify(user))\r\n  },\r\n\r\n  loadUser : () => {\r\n    JSON.parse(localStorage.getItem(storageKey))\r\n  },\r\n\r\n  logoutUser : () => {\r\n    localStorage.removeItem(storageKey)\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default userService","import axios from 'axios'\r\nimport userService from '../utils/storage'\r\nconst baseUrl = '/api/blogs'\r\n\r\n\r\nconst config = () => {\r\n  return {\r\n    headers: { Authorization: `bearer ${userService.loadUser().token}` }\r\n  }\r\n}\r\n\r\nconst blogService = {\r\n\r\n  create: async (newObject) => {\r\n\r\n    const response = await axios.post(baseUrl, newObject, config)\r\n    return response.data\r\n\r\n  },\r\n\r\n  remove: async (id, newObject) => {\r\n\r\n    const response = await axios.delete(`${baseUrl}/${id}`, config, newObject)\r\n    return response.data\r\n  },\r\n\r\n  update: async (object) => {\r\n\r\n    const newObject = { title: object.title, author: object.author, url: object.url, likes: object.likes }\r\n    const response = await axios.put(`${baseUrl}/${object.id}`, config, newObject)\r\n    return response.data\r\n  },\r\n\r\n  getOne: async (id) => {\r\n    const response = await axios.get(`${baseUrl}/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  getAll: async () => {\r\n    const response = await axios.get(baseUrl)\r\n    return response.data\r\n  },\r\n\r\n}\r\n\r\nexport default blogService\r\n","import blogService from '../services/blogs'\r\n\r\nconst Object = (blog) => {\r\n  return {\r\n    type: 'INIT_BLOGS',\r\n    data: {\r\n      id: blog.id,\r\n      title: blog.title,\r\n      author: blog.author,\r\n      url: blog.url,\r\n      likes: blog.likes,\r\n      user: blog.user,\r\n    }\r\n  }\r\n}\r\n\r\nconst blogReducer = (state = [], action) => {\r\n  console.log('ACTION:', action)\r\n  console.log('STATE NOW:', state)\r\n  switch (action.type) {\r\n  case 'NEW_BLOG':\r\n    return [...state, action]\r\n  case 'INIT_BLOGS':\r\n  {\r\n    const blogs =  action.data\r\n    const newBlogs = blogs.map(Object)\r\n    return newBlogs\r\n  }\r\n  case 'UPDATE_BLOG':\r\n  {\r\n    const id = action.data\r\n    const blog = state.find((blog) => blog.data?.id === id)\r\n    const changedBlog = {\r\n      ...blog,  data:{\r\n        id: blog.data?.id,\r\n        likes: blog.data?.likes + 1,\r\n        title: blog.data?.title,\r\n        author: blog.data?.author,\r\n        url: blog.data?.author,\r\n        user: blog.data?.user\r\n      }\r\n    }\r\n    return state.map((blog) => blog.data?.id === id ? changedBlog : blog)\r\n  }\r\n  case 'REMOVE_BLOG':\r\n  {\r\n    const id = action.data\r\n    return state.filter((blog) => blog.data?.id !== id)\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport const create = (blog) => {\r\n  return async dispatch => {\r\n    const newBlog = await blogService.create(blog)\r\n    dispatch({\r\n      type: 'NEW_BLOG',\r\n      data: newBlog,\r\n    })\r\n  }\r\n}\r\n\r\nexport const initBlogs = () => {\r\n  return async dispatch => {\r\n    const blogs = await blogService.getAll()\r\n    dispatch({\r\n      type: 'INIT_BLOGS',\r\n      data:  blogs ,\r\n    })\r\n  }\r\n}\r\n\r\nexport const updateBlog = (blog) => {\r\n  return async (dispatch) => {\r\n    await blogService.update(blog)\r\n    dispatch({\r\n      type: 'UPDATE_BLOG',\r\n      data: blog.id,\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteBlog = (id) => {\r\n  return async dispatch => {\r\n    await blogService.remove(id)\r\n    dispatch({\r\n      type: 'REMOVE_BLOG',\r\n      data: id,\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default blogReducer","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst commentService = {\r\n  setToken: (newToken) => {\r\n    token = `bearer ${newToken}`\r\n  },\r\n\r\n  create: async (id, newObject) => {\r\n    const config = {\r\n      headers: { Authorization: token },\r\n    }\r\n    const object = { content: newObject }\r\n    const response = await axios.post(`${baseUrl}/${id}/comments`, object, config)\r\n    return response.data\r\n\r\n  },\r\n\r\n  remove: async (id, newObject) => {\r\n    const config = {\r\n      headers: { Authorization: token },\r\n    }\r\n    const response = await axios.delete(`${baseUrl}/${id}`, config, newObject)\r\n    return response.data\r\n  },\r\n\r\n  update: async (id, object) => {\r\n    const config = {\r\n      headers: { Authorization: token },\r\n    }\r\n    const response = await axios.put(`${baseUrl}/${id}`, config, object)\r\n    return response.data\r\n  },\r\n\r\n  getOne: async (id) => {\r\n    const response = await axios.get(`${baseUrl}/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  getAll: async (id) => {\r\n    const response = await axios.get(`${baseUrl}/${id}/comments`)\r\n    return response.data\r\n  },\r\n\r\n}\r\n\r\nexport default commentService\r\n","import commentService from '../services/comments'\r\n\r\n\r\nconst commentReducer = (state = [], action) => {\r\n  console.log('ACTION:', action)\r\n  console.log('STATE NOW:', state)\r\n  switch (action.type) {\r\n  case 'NEW_COMMENT':\r\n    return [...state.data?.comments, {\r\n      content: action.data?.content,\r\n      id: action.data?.id\r\n    }]\r\n  case 'INIT_COMMENTS':\r\n  {\r\n    const comments =  action\r\n    return comments\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport const create = (blog, content) => {\r\n  return async dispatch => {\r\n    const newComment = await commentService.create(blog.data?.id, content)\r\n    dispatch({\r\n      type: 'NEW_COMMENT',\r\n      data: newComment,\r\n    })\r\n  }\r\n}\r\n\r\nexport const initComments = (id) => {\r\n  return async dispatch => {\r\n    const comment = await commentService.getAll(id)\r\n    dispatch({\r\n      type: 'INIT_COMMENTS',\r\n      data: {\r\n        id: comment.id,\r\n        title: comment.title,\r\n        author: comment.author,\r\n        url: comment.url,\r\n        likes: comment.likes,\r\n        user: comment.user,\r\n        comments: comment.comments\r\n      },\r\n    })\r\n  }\r\n}\r\n\r\nexport default commentReducer","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { updateBlog  } from '../reducers/blogReducer'\r\nimport { notify } from '../reducers/notificationReducer'\r\nimport { useParams } from 'react-router-dom'\r\nimport { Button } from 'react-bootstrap'\r\nimport { initComments } from '../reducers/commentReducer'\r\n\r\nconst Blog = () => {\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.user)\r\n  const blogs = useSelector(state => state.blogs)\r\n  const id = useParams().id\r\n  useEffect(() => {\r\n    dispatch(initComments(id))\r\n    const interval=setInterval(() => {\r\n      dispatch(initComments(id))\r\n    }, 10000)\r\n\r\n    return () => clearInterval(interval)\r\n\r\n  }, [dispatch, id])\r\n  const blogsSort = blogs.sort((a,b) => b.likes - a.likes)\r\n  const blog = blogsSort.find(b => b.data?.id === id)\r\n  if (!blog) {\r\n    return null\r\n  }\r\n\r\n  const addLikes = (event) => {\r\n    event.preventDefault()\r\n    if (blog.data?.user[0]?.username !== user.username) {\r\n      dispatch(notify('Only the blog creator can add like'))\r\n    }\r\n    try {\r\n      const blogToChange = {\r\n        id: blog.data?.id,\r\n        user: blog.data?.user,\r\n        title: blog.data?.title,\r\n        author: blog.data?.author,\r\n        url: blog.data?.url,\r\n        likes: blog.data?.likes + 1,\r\n      }\r\n      dispatch(updateBlog(blogToChange))\r\n      dispatch(notify( `Updated the blog ${blog.data?.title} by ${blog.data?.author} added`, 5))\r\n    } catch (error) {\r\n      dispatch(notify(`${error} `, 'error', 5))\r\n    }\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>\r\n        {blog.data?.title} {blog.data?.author}\r\n      </h2>\r\n      <p><a href={`${blog.data?.url}`}>{blog.data?.url}</a></p>\r\n      <p className='likes'>\r\n        {blog.data?.likes} <Button variant='outline-info' size='sm' id='like' onClick={addLikes}>like</Button>\r\n      </p>\r\n      <p>added by {blog.data?.user[0]?.username}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\n\r\nconst Notification = () => {\r\n  const notification = useSelector(state => state.notification)\r\n  console.log(notification)\r\n\r\n  if (notification === null ) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={notification.type}>\r\n      {(notification.message &&\r\n      <Alert variant='success'>{notification.message}</Alert>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (username, password) => {\r\n  const credentials = { username, password }\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { login }","const userReducer = (state = null, action) => {\r\n  console.log('STATE NOW:', state)\r\n  console.log('ACTION:', action)\r\n  switch(action.type) {\r\n  case 'NEW_USER':\r\n    return action.data\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport const setUser = (user) => {\r\n  return async dispatch => {\r\n    dispatch({\r\n      type: 'NEW_USER',\r\n      data: user,\r\n    })\r\n  }\r\n}\r\n\r\nexport default userReducer","import { useState } from 'react'\r\n\r\nconst useField = (type) => {\r\n  const [value, setValue] = useState('')\r\n\r\n  const onChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  return {\r\n    type, value, onChange\r\n  }\r\n}\r\n\r\nexport default useField","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { useDispatch } from 'react-redux'\r\nimport userService from '../utils/storage'\r\nimport loginService from '../services/login'\r\nimport { notify } from '../reducers/notificationReducer'\r\nimport { setUser } from '../reducers/userReducer'\r\nimport  useField  from '../hooks/useField'\r\n\r\n\r\nconst LoginForm = () => {\r\n  const username = useField('username')\r\n  const password = useField('password')\r\n  const dispatch = useDispatch()\r\n\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    console.log(username.value, password.value)\r\n    try {\r\n      const user = await loginService.login(username.value, password.value)\r\n      await userService.saveUser(user)\r\n      dispatch(setUser(user))\r\n      console.log(user)\r\n      dispatch(notify(`${user.name} successfully logged in`, 5))\r\n    } catch (error) {\r\n      dispatch(notify(`${error.response.data.error}`, 'error', 5))\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h3>Log in to application</h3>\r\n\r\n      <form onSubmit={handleLogin}>\r\n        <div>\r\n          <div>username\r\n            <input\r\n              id='username'\r\n              type='username'\r\n              {...username} />\r\n          </div>\r\n          <div>\r\n          password\r\n            <input\r\n              id='password'\r\n              type=\"password\"\r\n              {...password}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Button size='sm' id='login-button' type=\"submit\">Submit</Button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm","import React, { useState, useImperativeHandle } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Button } from 'react-bootstrap'\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none': '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <Button  id='toggle' onClick={toggleVisibility}>{props.buttonLabel}</Button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <Button size='sm' variant='warning' onClick={toggleVisibility}>cancel</Button>\r\n      </div>\r\n      <br></br>\r\n    </div>\r\n  )\r\n})\r\n\r\nTogglable.displayName = 'Togglable'\r\nTogglable.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Togglable\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Table } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nconst Users = () => {\r\n  const blogs = useSelector(state => state.blogs)\r\n  console.log(blogs)\r\n  const users = blogs.map((blog) => blog.data?.user[0])\r\n  console.log(users)\r\n  if (!blogs && !users) {\r\n    return null\r\n  }\r\n  const uniqueUsers = users.filter((v, i , a) => a.findIndex(t => (t.id === v.id)) === i)\r\n  console.log(uniqueUsers)\r\n  const returnLength = (name, object) => {\r\n    const blogs = object.filter((item) => item.data?.user[0]?.username === name)\r\n    return blogs.length\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Users</h2>\r\n      <Table size=\"sm\">\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th>blogs created</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {uniqueUsers.map((user) =>\r\n            <tr key={user.id}>\r\n              <td><Link to={`/users/${user.id}`}>{user.username}</Link></td>\r\n              <td>{returnLength(user.username, blogs)}</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </Table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","import React from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\n\r\nconst User = () => {\r\n  const blogs = useSelector(state => state.blogs)\r\n  const id = useParams().id\r\n  if (!blogs && !id) {\r\n    return null\r\n  }\r\n  console.log(id)\r\n  const userBlogs = blogs.filter(blog => blog.data?.user[0]?.id === id)\r\n  console.log(userBlogs)\r\n  const name = userBlogs.map((blog) => blog.data?.user[0])\r\n  console.log(name)\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>{name[0].username}</h2>\r\n      <br></br>\r\n      <h5>added blogs</h5>\r\n      <ul>\r\n        {userBlogs.map((blog) =>\r\n          <li key={blog.data?.id}>{blog.data?.title}</li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport { Button, Form } from 'react-bootstrap'\r\n\r\nconst BlogForm = ({ createBlog }) => {\r\n\r\n  const addBlog = (event) => {\r\n    event.preventDefault()\r\n    createBlog({\r\n      title: event.target.title.value,\r\n      author: event.target.author.value,\r\n      url: event.target.url.value ,\r\n      likes: event.target.likes.value,\r\n    })\r\n    event.target.title.value = ''\r\n    event.target.author.value = ''\r\n    event.target.url.value = ''\r\n    event.target.likes.value = ''\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h4>Create New Blog</h4>\r\n      <Form onSubmit={addBlog}>\r\n        <Form.Group>\r\n          <Form.Label> title:</Form.Label>\r\n          <Form.Control id='title' type='text' name='title'  />\r\n          <Form.Label> author: </Form.Label>\r\n          <Form.Control id='author' name='author' type='text'  />\r\n          <Form.Label>url:</Form.Label>\r\n          <Form.Control id='url' name='url'  />\r\n          <Form.Label>likes:</Form.Label>\r\n          <Form.Control id='likes' name='likes'  />\r\n          <br></br>\r\n          <Button size='sm' variant='primary' id='create-button' type=\"submit\">create</Button>\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlogForm","import React, { useRef } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Togglable from '../components/Togglable'\r\nimport BlogForm from '../components/BlogForm'\r\nimport { create } from '../reducers/blogReducer'\r\nimport { notify } from '../reducers/notificationReducer'\r\n\r\nconst Blogs = () => {\r\n  const dispatch = useDispatch()\r\n  const blogFormRef = useRef()\r\n  const user = useSelector(state => state.user)\r\n  const blogs = useSelector(state => state.blogs)\r\n  if (!blogs && !user) {\r\n    return null\r\n  }\r\n  const blogsSort = blogs.sort((a,b) => b.likes - a.likes)\r\n\r\n  //const userBlogs = blogsSort.filter((blog) => blog.data?.user[0]?.username === user.username)\r\n\r\n\r\n  const addBlog = (blogObject) => {\r\n\r\n    try {\r\n      blogFormRef.current.toggleVisibility()\r\n      dispatch(create(blogObject))\r\n      dispatch(notify( `a new blog ${blogObject.title} by ${blogObject.author} added`, 5))\r\n    } catch (error) {\r\n      dispatch(notify(`${error} `, 'error', 5))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Blogs</h1>\r\n      <div>\r\n        <Togglable buttonLabel=\"create new blog\" ref={blogFormRef}>\r\n          <BlogForm createBlog={addBlog} />\r\n        </Togglable>\r\n      </div>\r\n      {blogsSort.map((blog) =>\r\n        <div key={blog.data?.id} className='contact'>\r\n          <p><Link to={`/blogs/${blog.data?.id}`}>{blog.data?.title}</Link></p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blogs\r\n\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { notify } from '../reducers/notificationReducer'\r\nimport { create } from '../reducers/commentReducer'\r\nimport { Button } from 'react-bootstrap'\r\n\r\nconst Comment = () => {\r\n  const dispatch = useDispatch()\r\n  const blog = useSelector(state => state.comments)\r\n  if (!blog) {\r\n    return null\r\n  }\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault()\r\n    const comment = event.target.content.value\r\n    dispatch(create(blog, comment))\r\n    dispatch(notify(`Created a new comment ${comment} for blog ${blog.data?.title}`, 5))\r\n    event.target.content.value = ''\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h5>Comments</h5>\r\n      <div>\r\n        <div>\r\n          <form onSubmit={handleSubmit}>\r\n            <div>\r\n              <input className='form' name='content' />\r\n              <Button size='sm' type='submit'>add comments</Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <ul>\r\n          {blog.data?.comments.map(comment =>\r\n            <div key={comment.id}>\r\n              <li>{comment.content}</li>\r\n            </div>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Comment\r\n","import React, { useEffect } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Blog from './components/Blog'\r\nimport Notification from './components/Notification'\r\nimport LoginForm from './components/LoginForm'\r\nimport Togglable from './components/Togglable'\r\nimport Users from './components/Users'\r\nimport { initBlogs } from './reducers/blogReducer'\r\nimport { setUser } from './reducers/userReducer'\r\nimport User from './components/User'\r\nimport Blogs from './components/Blogs'\r\nimport { Navbar, Nav, Button } from 'react-bootstrap'\r\nimport Comment from './components/Comment'\r\nimport userService from './utils/storage'\r\n\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.user)\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(initBlogs())\r\n    const interval=setInterval(() => {\r\n      dispatch(initBlogs())\r\n    }, 10000)\r\n\r\n    return () => clearInterval(interval)\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    const blogUser = userService.loadUser()\r\n    if (blogUser) {\r\n      dispatch(setUser(blogUser))\r\n    }\r\n  }, [dispatch])\r\n\r\n\r\n  const loginForm = () => (\r\n    <Togglable buttonLabel=\"login to application\">\r\n      <LoginForm />\r\n    </Togglable>\r\n  )\r\n\r\n  const removeUser = async () => {\r\n    await userService.logoutUser()\r\n    dispatch(setUser(null))\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Router>\r\n        <Navbar collapseOnSelect expand={true} bg=\"dark\" variant='dark'>\r\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav className=\"me-auto\">\r\n              <Nav.Link href=\"#\" as=\"span\">\r\n                <Link  to=\"/blogs\">blogs</Link>\r\n              </Nav.Link>\r\n              <Nav.Link href=\"#\" as=\"span\">\r\n                <Link to=\"/users\">users</Link>\r\n              </Nav.Link>\r\n              <Nav.Link  href=\"#\" as=\"span\">\r\n                {user === null ? (\r\n                  loginForm()\r\n                ) : (\r\n                  <div className='row'><p>{user.name} logged in</p><Button  variant='light' size='sm' id='logout' onClick={() => removeUser()}>logout</Button></div>\r\n                )}\r\n              </Nav.Link>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n        <div>\r\n          <Notification  />\r\n        </div>\r\n\r\n\r\n        <br></br>\r\n        <Switch>\r\n          <Route path=\"/users/:id\">\r\n            <User />\r\n          </Route>\r\n          <Route path=\"/users\">\r\n            <Users />\r\n          </Route>\r\n          <Route path=\"/blogs/:id\">\r\n            <Blog />\r\n            <Comment />\r\n          </Route>\r\n          <Route path=\"/blogs\">\r\n            <Blogs />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default App","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport blogReducer from './reducers/blogReducer'\r\nimport commentReducer from './reducers/commentReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport userReducer from './reducers/userReducer'\r\n\r\n\r\nconst reducer = combineReducers({\r\n  blogs: blogReducer,\r\n  notification: notificationReducer,\r\n  user: userReducer,\r\n  comments: commentReducer,\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nconsole.log(store.getState())\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\nimport store from './store'\r\nimport { Provider } from 'react-redux'\r\n\r\n\r\nconsole.log(store.getState())\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root'))"],"sourceRoot":""}